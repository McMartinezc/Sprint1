package n1ex2;

import java.io.File;
import java.io.IOException;
import java.sql.Date;
import java.util.Arrays;

public class App {

	public static void main(String[] args) {

		File directori = new File("C:\\Users\\formacio\\Desktop\\repository"); // Creem objecte del directori a llistar
																				// d'una carpeta

		fitxerRecursiu(directori);

		System.out.println("Fitxer importat correctament");

	}

	public static void fitxerRecursiu(File directori) {

		File[] llista = directori.listFiles(); // El metode list retorna una Array de String amb el nom de tots els
												// arxius i directoris que té l'objecte que hem creat

		if (llista != null) { // Comprova si la llista no és nul.la

			for (int i = 0; i < llista.length; i++) { 
				System.out.println(" " + llista[i].getName());

				if (llista[i].isDirectory()) {
					System.out.print("D: " + llista[i] + " " + new Date(llista[i].lastModified()));// Si és de tipus
															// directori sortirà una D i printa la data de modificació
																		
					fitxerRecursiu(llista[i]); // Cridem de nou al métode per si hi ha una carpeta que entri i faci el
												// mateix

				} else {
					System.out.print("F: " + llista[i] + " " + new Date(llista[i].lastModified())); // Si és de tipus fitxer sortirà una F  i printa la data

				}
			}
		}

	}

}
