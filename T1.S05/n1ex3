package n1ex3;

import java.io.BufferedWriter;
import java.io.File;
import java.io.FileWriter;
import java.io.IOException;
import java.sql.Date;

public class App {

	public static void main(String[] args) {

		// Ruta del directori
		File directori = new File("C:\\Users\\psyen\\Desktop\\ITAcademy\\fitxer.txt");

		escrituraFitxer(directori);
	}
	public static void escrituraFitxer(File directori) {
		
		
		File[] llista = directori.listFiles(); // El metode list retorna una Array de String amb el nom de tots els
		// arxius i directoris que té l'objecte que hem creat

		if (llista != null) { // Comprova si la llista no és nul.la

			for (int i = 0; i < llista.length; i++) { 
				if (llista[i].isDirectory()) {
					System.out.println("D: " + llista[i] + " " + new Date(llista[i].lastModified()));// Si és de tipus
			// directori sortirà una D i printa la data de modificació
								
				} else {
					System.out.println("F: " + llista[i] + " " + new Date(llista[i].lastModified())); // Si és de tipus fitxer sortirà una F  i printa la data

				}
			}
		}

		FileWriter fichero = null;
		try {

			fichero = new FileWriter("fichero_escritura.txt");

			// Escribimos linea a linea en el fichero
			for (File linea : llista) {
				fichero.write(linea + "\n");
			}

			fichero.close();

		} catch (Exception ex) {
			System.out.println("Mensaje de la excepción: " + ex.getMessage());
		}
	}
}
