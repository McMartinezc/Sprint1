 package n1ex3;

import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.io.RandomAccessFile;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Map;
import java.util.Random;
import java.util.Scanner;
import java.util.StringTokenizer;

public class App {

	public static void main(String[] args) {

		// Declarem variables
		String linea = null;
		String resposta;
		String clau, valor;
		HashMap<String, String> llistaCiutats = new HashMap<String, String>();
		//Convertim fitxer txt a HashMap i guardem la llista de països 
		
		try {
		
			BufferedReader buffer_lectura = new BufferedReader(new FileReader("C:\\Users\\formacio\\Desktop\\repository\\countries.txt")); // Llegim lina a lina del fitxer

			while ((linea= buffer_lectura.readLine()) != null) {
			// System.out.println(linea); // Imprimimos la linea
				StringTokenizer sttoken = new StringTokenizer(linea, " ");
				if(sttoken.hasMoreTokens()) {
			
					clau = sttoken.nextToken();
					valor = sttoken.nextToken();
					llistaCiutats.put(clau, valor);
					System.out.println(clau );
					System.out.println(valor);
				}
			}

			
			System.out.println("Fitxer importat correctament");

			// Controlant excepcions
		} catch (FileNotFoundException error) {
			System.out.println("catch1");
			System.out.println(error.getMessage());
		} catch (IOException error) {
			System.out.println("catch2");
			System.out.println(error.getMessage());
		}

		//Random Pais		
		Random indexAleatori = new Random();
		Object[] paisos = llistaCiutats.values().toArray();
		Object randomPais = paisos[indexAleatori.nextInt(paisos.length)];
		System.out.println(randomPais);
		// Consulta al usuari i resposta
		introInfo("Introdueix el teu nom: ");
		resposta = introInfo("Introdueix la capital del país: ");
		
		System.out.println(llistaCiutats.containsValue(resposta));
		

	}
	// Metodes sol.liciten info a l'usuari
	static String introInfo(String missatge) {
		Scanner input = new Scanner(System.in);
		System.out.println(missatge);
		return input.nextLine();// Retorna String
	}
}

